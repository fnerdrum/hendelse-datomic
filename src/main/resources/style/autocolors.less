@nof-colors: 10;
@basecolor: desaturate(red, 40%);

.mixin-loop (@index, @total) when (@index > 0) {
  .auto-color-@{index} {
    @bgcolor: spin(@basecolor, (360 / @nof-colors) * @index);

    background-color: @bgcolor;
    color: contrast(@bgcolor);

    &:hover, &.hover {
      background-color: saturate(@bgcolor, 20%);
    }

    &:checked, &.checked {
      @activecolor: saturate(@bgcolor, 100%);
      background-color: @activecolor;
      color: contrast(@activecolor);
    }
  }

  .mixin-loop(@index - 1, @total);
}

.mixin-loop(@nof-colors, @nof-colors);